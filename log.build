Travis CI
There are no broadcasts

Dashboard

Changelog
Documentation
Help
Merlin Patterson (they/them) avatar

 paypal / paypal-messaging-components
 build:passed
Current

Branches

Build History

Pull Requests

Build #1187
More options
 improve-func-beginning fix: handle modal prop changes correctly (#251)
 Commit 2a5dd0f
 Compare improve-func-beginning
 Branch improve-func-beginning
Merlin Patterson (they/them) avatar Merlin Patterson (they/them)
 #1187 passed
 Ran for 26 min 10 sec
 11 hours ago
 Shared repository
 Restart build
 AMD64
 Node.js: 10
DIRTY_SNAPSHOTS=0
Job log

View config
 Remove log  Raw log
0.14s0.09s0.00s0.07s
worker_info
Worker information
0.15s0.00s0.01s0.00s0.01s
system_info
Build system information
0.01s0.01s0.67s0.23s0.05s0.00s0.04s0.00s0.01s0.01s0.01s0.01s0.01s0.00s0.00s0.02s0.00s0.01s0.34s0.00s0.00s0.00s0.01s0.00s0.10s0.01s0.83s0.00s0.10s6.03s0.00s2.79s0.00s2.55s
docker_mtu
resolvconf
hosts.before
hosts
hosts.after
git.checkout
1.82s$ git clone --depth=50 --branch=improve-func-beginning https://github.com/paypal/paypal-messaging-components.git paypal/paypal-messaging-components
0.01s
Setting environment variables from repository settings
$ export NPM_EMAIL=[secure]
$ export GH_TOKEN=[secure]
$ export NPM_TOKEN=[secure]
$ export PR_COMMENT_TOKEN=[secure]
Setting environment variables from .travis.yml
$ export DIRTY_SNAPSHOTS=0
nvm.install
3.00s$ nvm install 10
$ node --version
v10.22.0
$ npm --version
6.14.6
$ nvm --version
0.35.3
before_install
6.06s$ npm i -g npm@6
install.npm
73.13s$ npm install
before_script.1
0.01s$ npm run dev:snapshot &
before_script.2
20.03s$ sleep 20
25.47s$ npm run lint
> @paypal/messaging-components@1.12.3 lint /home/travis/build/paypal/paypal-messaging-components
> eslint . --ext .js,.jsx
ℹ ｢wdm｣: Hash: 605a0c5e745d7e48cdf01a651ef4efe6d3c30145
Version: webpack 4.44.1
Child
    Hash: 605a0c5e745d7e48cdf0
    Time: 16833ms
    Built at: 08/28/2020 2:34:48 AM
           Asset      Size     Chunks             Chunk Names
     merchant.js  4.81 MiB   merchant  [emitted]  merchant
    messaging.js  4.74 MiB  messaging  [emitted]  messaging
    Entrypoint messaging = messaging.js
    Entrypoint merchant = merchant.js
    [0] multi (webpack)-dev-server/client?http://localhost.paypal.com:8080 ./src/index.js 40 bytes {messaging} [built]
    [1] multi (webpack)-dev-server/client?http://localhost.paypal.com:8080 ./src/legacy/index.js 40 bytes {merchant} [built]
    [./node_modules/@babel/runtime/helpers/esm/extends.js] 397 bytes {messaging} {merchant} [built]
    [./node_modules/core-js-pure/stable/array/from.js] 70 bytes {messaging} {merchant} [built]
    [./node_modules/core-js-pure/stable/array/includes.js] 74 bytes {messaging} {merchant} [built]
    [./node_modules/core-js-pure/stable/object/entries.js] 74 bytes {messaging} {merchant} [built]
    [./node_modules/core-js-pure/stable/string/includes.js] 75 bytes {messaging} {merchant} [built]
    [./node_modules/core-js-pure/stable/string/starts-with.js] 78 bytes {messaging} {merchant} [built]
    [./node_modules/webpack-dev-server/client/index.js?http://localhost.paypal.com:8080] (webpack)-dev-server/client?http://localhost.paypal.com:8080 4.29 KiB {messaging} {merchant} [built]
    [./node_modules/webpack-dev-server/client/overlay.js] (webpack)-dev-server/client/overlay.js 3.51 KiB {messaging} {merchant} [built]
    [./node_modules/webpack-dev-server/client/socket.js] (webpack)-dev-server/client/socket.js 1.53 KiB {messaging} {merchant} [built]
    [./node_modules/webpack-dev-server/client/utils/createSocketUrl.js] (webpack)-dev-server/client/utils/createSocketUrl.js 2.91 KiB {messaging} {merchant} [built]
    [./node_modules/webpack-dev-server/client/utils/log.js] (webpack)-dev-server/client/utils/log.js 964 bytes {messaging} {merchant} [built]
    [./src/index.js] 103 bytes {messaging} [built]
    [./src/legacy/index.js] 10.9 KiB {merchant} [built]
        + 449 hidden modules
Child
    Hash: 1a651ef4efe6d3c30145
    Time: 30078ms
    Built at: 08/28/2020 2:35:01 AM
                                Asset      Size  Chunks             Chunk Names
                smart-credit-modal.js  2.81 MiB    main  [emitted]  main
    smart-credit-modal.js.LICENSE.txt  51 bytes          [emitted]
    Entrypoint main = smart-credit-modal.js
    [0] multi (webpack)-dev-server/client?http://localhost.paypal.com:8080 ./src/modal/index.js 40 bytes {main} [built]
        ModuleConcatenation bailout: Module is not an ECMAScript module
    [./node_modules/ansi-html/index.js] 4.27 KiB {main} [built]
        ModuleConcatenation bailout: Module is not an ECMAScript module
    [./node_modules/html-entities/lib/index.js] 457 bytes {main} [built]
        ModuleConcatenation bailout: Module is not an ECMAScript module
    [./node_modules/loglevel/lib/loglevel.js] 7.71 KiB {main} [built]
        ModuleConcatenation bailout: Module is not an ECMAScript module
    [./node_modules/url/url.js] 22.3 KiB {main} [built]
        ModuleConcatenation bailout: Module is not an ECMAScript module
    [./node_modules/webpack-dev-server/client/index.js?http://localhost.paypal.com:8080] (webpack)-dev-server/client?http://localhost.paypal.com:8080 4.29 KiB {main} [built]
        ModuleConcatenation bailout: Module is not an ECMAScript module
    [./node_modules/webpack-dev-server/client/overlay.js] (webpack)-dev-server/client/overlay.js 3.51 KiB {main} [built]
        ModuleConcatenation bailout: Module is not an ECMAScript module
    [./node_modules/webpack-dev-server/client/socket.js] (webpack)-dev-server/client/socket.js 1.53 KiB {main} [built]
        ModuleConcatenation bailout: Module is not an ECMAScript module
    [./node_modules/webpack-dev-server/client/utils/createSocketUrl.js] (webpack)-dev-server/client/utils/createSocketUrl.js 2.91 KiB {main} [built]
        ModuleConcatenation bailout: Module is not an ECMAScript module
    [./node_modules/webpack-dev-server/client/utils/log.js] (webpack)-dev-server/client/utils/log.js 964 bytes {main} [built]
        ModuleConcatenation bailout: Module is not an ECMAScript module
    [./node_modules/webpack-dev-server/client/utils/reloadApp.js] (webpack)-dev-server/client/utils/reloadApp.js 1.59 KiB {main} [built]
        ModuleConcatenation bailout: Module is not an ECMAScript module
    [./node_modules/webpack-dev-server/client/utils/sendMessage.js] (webpack)-dev-server/client/utils/sendMessage.js 402 bytes {main} [built]
        ModuleConcatenation bailout: Module is not an ECMAScript module
    [./node_modules/webpack-dev-server/node_modules/strip-ansi/index.js] (webpack)-dev-server/node_modules/strip-ansi/index.js 162 bytes {main} [built]
        ModuleConcatenation bailout: Module is not an ECMAScript module
    [./node_modules/webpack/hot sync ^\.\/log$] (webpack)/hot sync nonrecursive ^\.\/log$ 170 bytes {main} [built]
        ModuleConcatenation bailout: Module is not an ECMAScript module
    [./src/modal/index.js] ./src/modal/index.js + 108 modules 339 KiB {main} [built]
        ModuleConcatenation bailout: Cannot concat with ./node_modules/@paypal/sdk-logos/index.js (<- Module is not an ECMAScript module)
        ModuleConcatenation bailout: Cannot concat with ./node_modules/core-js-pure/stable/array/find.js (<- Module is not an ECMAScript module)
        ModuleConcatenation bailout: Cannot concat with ./node_modules/core-js-pure/stable/array/from.js (<- Module is not an ECMAScript module)
        ModuleConcatenation bailout: Cannot concat with ./node_modules/core-js-pure/stable/array/includes.js (<- Module is not an ECMAScript module)
        ModuleConcatenation bailout: Cannot concat with ./node_modules/core-js-pure/stable/object/assign.js (<- Module is not an ECMAScript module)
        ModuleConcatenation bailout: Cannot concat with ./node_modules/core-js-pure/stable/object/entries.js (<- Module is not an ECMAScript module)
        ModuleConcatenation bailout: Cannot concat with ./node_modules/core-js-pure/stable/string/includes.js (<- Module is not an ECMAScript module)
        ModuleConcatenation bailout: Cannot concat with ./node_modules/core-js-pure/stable/string/starts-with.js (<- Module is not an ECMAScript module)
        ModuleConcatenation bailout: Cannot concat with ./node_modules/jsx-pragmatic/index.js (<- Module is not an ECMAScript module)
        ModuleConcatenation bailout: Cannot concat with ./node_modules/zalgo-promise/index.js (<- Module is not an ECMAScript module)
        | ./src/modal/index.js 180 bytes [built]
        |     ModuleConcatenation bailout: Module is referenced from these modules with unsupported syntax: multi (webpack)-dev-server/client?http://localhost.paypal.com:8080 ./src/modal/index.js (referenced with single entry)
        | ./node_modules/preact/dist/preact.module.js 9.67 KiB [built]
        | ./src/modal/Modal.jsx 578 bytes [built]
        | ./src/modal/lib/context.js 511 bytes [built]
        | ./src/modal/lib/transition.jsx 1.05 KiB [built]
        | ./src/modal/parts/Container.jsx 2.47 KiB [built]
        | ./src/modal/styles/index.js 362 bytes [built]
        | ./src/modal/content/Content.jsx 1.51 KiB [built]
        | ./node_modules/preact/hooks/dist/hooks.module.js 2.49 KiB [built]
        | ./src/modal/lib/hooks/helpers.js 753 bytes [built]
        | ./src/modal/lib/hooks/index.js 252 bytes [built]
        | ./src/modal/lib/scroll.jsx 1.52 KiB [built]
        | ./src/modal/parts/Header.jsx 2.47 KiB [built]
        | ./src/modal/parts/Overlay.jsx 2.07 KiB [built]
        | ./src/modal/styles/fonts.css 2.9 KiB [built]
        |     + 94 hidden modules
        + 125 hidden modules
ℹ ｢wdm｣: Compiled successfully.
/home/travis/build/paypal/paypal-messaging-components/src/messages/models/Banner/index.js
  177:17  warning  Unexpected console statement  no-console
  188:17  warning  Unexpected console statement  no-console
/home/travis/build/paypal/paypal-messaging-components/src/messages/services/logger/index.js
  118:17  warning  Unexpected console statement  no-console
  125:9   warning  Unexpected console statement  no-console
/home/travis/build/paypal/paypal-messaging-components/utils/devServerProxy.js
  145:31  warning  Unexpected console statement  no-console
  203:31  warning  Unexpected console statement  no-console
✖ 6 problems (0 errors, 6 warnings)
The command "npm run lint" exited with 0.
10.97s$ npm run test
> @paypal/messaging-components@1.12.3 test /home/travis/build/paypal/paypal-messaging-components
> jest
PASS tests/unit/spec/src/messages/models/Container/events.test.js
PASS tests/unit/spec/src/utils/index.test.js
PASS tests/unit/spec/src/messages/models/Container/setSize.test.js
PASS tests/unit/spec/src/messages/models/Container/stats.test.js
PASS tests/unit/spec/src/messages/models/Banner/validateOptions.test.js
PASS tests/unit/spec/src/messages/components/Modal/index.test.js
PASS tests/unit/spec/src/modal/lib/hooks/applyNow.test.js
PASS tests/unit/spec/src/messages/models/Banner/index.test.js
PASS tests/unit/spec/src/messages/models/Container/insertMarkup.test.js
PASS tests/unit/spec/src/messages/models/Container/index.test.js
PASS tests/unit/spec/src/modal/lib/hooks/helpers.test.js
PASS tests/unit/spec/src/modal/lib/hooks/transitionState.test.js
PASS tests/unit/spec/src/modal/lib/transition.test.js
PASS tests/unit/spec/src/modal/lib/hooks/calculator.test.js
Test Suites: 14 passed, 14 total
Tests:       10 skipped, 6 todo, 49 passed, 65 total
Snapshots:   0 total
Time:        9.792s
Ran all test suites.
The command "npm run test" exited with 0.
1410.04s$ ./scripts/snapshot-tests/run-tests.sh
> @paypal/messaging-components@1.12.3 test:func /home/travis/build/paypal/paypal-messaging-components
> jest --projects tests/functional
PASS tests/functional/spec/payload.test.js (57.917s)
PASS tests/functional/spec/US/text.test.js (253.664s)
PASS tests/functional/spec/GB/text.test.js (29.584s)
PASS tests/functional/spec/US/modal/modalText.test.js (105.51s)
PASS tests/functional/spec/DE/text.test.js (52.026s)
PASS tests/functional/spec/US/flex.test.js (220.091s)
PASS tests/functional/spec/GB/flex.test.js (38.549s)
PASS tests/functional/spec/US/modal/modalFlex.test.js (51.744s)
PASS tests/functional/spec/GB/modal/modalText.test.js (79.119s)
PASS tests/functional/spec/DE/flex.test.js (69.659s)
FAIL tests/functional/spec/DE/modal/modalFlexCalc.test.js (119.755s)
  ● DE Modal Calculator Tests { width: 1920, height: 1080 } › update finance terms when user updates amount passed into calculator flex 1920
    Expected image to match or be a close match to snapshot but was 1.089699074074074% different from snapshot (22596 differing pixels).
    See diff for details: tests/functional/snapshots/DE/DEV0000000IAZ/modal/__diff_output__/DE-update-finance-terms-flex-1920-diff.png
      33 |     }
      34 |
    > 35 |     expect(image).toMatchImageSnapshot({
         |                   ^
      36 |         customSnapshotsDir: `./tests/functional/snapshots/${locale}/${account}/modal`,
      37 |         customSnapshotIdentifier
      38 |     });
      at modalSnapshot (spec/utils/modalSnapshot.js:35:19)
  ● DE Modal Calculator Tests { width: 1920, height: 1080 } › when an amount is passed into DE PP installments message, the correct financing terms are loaded in a table flex 1920
    Expected image to match or be a close match to snapshot but was 1.0950520833333333% different from snapshot (22707 differing pixels).
    See diff for details: tests/functional/snapshots/DE/DEV0000000IAZ/modal/__diff_output__/ezp-message-content-flex-1920-diff.png
      33 |     }
      34 |
    > 35 |     expect(image).toMatchImageSnapshot({
         |                   ^
      36 |         customSnapshotsDir: `./tests/functional/snapshots/${locale}/${account}/modal`,
      37 |         customSnapshotIdentifier
      38 |     });
      at modalSnapshot (spec/utils/modalSnapshot.js:35:19)
  ● DE Modal Calculator Tests { width: 1920, height: 1080 } › update finance terms when user updates amount passed into calculator flex 1920
    Expected image to match or be a close match to snapshot but was 1.1048418209876545% different from snapshot (22910 differing pixels).
    See diff for details: tests/functional/snapshots/DE/DEV0000000IAZ/modal/__diff_output__/DE-update-finance-terms-flex-1920-diff.png
      33 |     }
      34 |
    > 35 |     expect(image).toMatchImageSnapshot({
         |                   ^
      36 |         customSnapshotsDir: `./tests/functional/snapshots/${locale}/${account}/modal`,
      37 |         customSnapshotIdentifier
      38 |     });
      at modalSnapshot (spec/utils/modalSnapshot.js:35:19)
  ● DE Modal Calculator Tests { width: 1920, height: 1080 } › when an amount is passed into DE PP installments message, the correct financing terms are loaded in a table flex 1920
    Expected image to match or be a close match to snapshot but was 1.1307870370370372% different from snapshot (23448 differing pixels).
    See diff for details: tests/functional/snapshots/DE/DEV0000000IAZ/modal/__diff_output__/ezp-message-content-flex-1920-diff.png
      33 |     }
      34 |
    > 35 |     expect(image).toMatchImageSnapshot({
         |                   ^
      36 |         customSnapshotsDir: `./tests/functional/snapshots/${locale}/${account}/modal`,
      37 |         customSnapshotIdentifier
      38 |     });
      at modalSnapshot (spec/utils/modalSnapshot.js:35:19)
  ● DE Modal Calculator Tests { width: 1920, height: 1080 } › update finance terms when user updates amount passed into calculator flex 1920
    Expected image to match or be a close match to snapshot but was 0.9963348765432098% different from snapshot (20660 differing pixels).
    See diff for details: tests/functional/snapshots/DE/DEV0000000IAZ/modal/__diff_output__/DE-update-finance-terms-flex-1920-diff.png
      33 |     }
      34 |
    > 35 |     expect(image).toMatchImageSnapshot({
         |                   ^
      36 |         customSnapshotsDir: `./tests/functional/snapshots/${locale}/${account}/modal`,
      37 |         customSnapshotIdentifier
      38 |     });
      at modalSnapshot (spec/utils/modalSnapshot.js:35:19)
  ● DE Modal Calculator Tests { width: 1920, height: 1080 } › when an amount is passed into DE PP installments message, the correct financing terms are loaded in a table flex 1920
    Expected image to match or be a close match to snapshot but was 0.9915605709876544% different from snapshot (20561 differing pixels).
    See diff for details: tests/functional/snapshots/DE/DEV0000000IAZ/modal/__diff_output__/ezp-message-content-flex-1920-diff.png
      33 |     }
      34 |
    > 35 |     expect(image).toMatchImageSnapshot({
         |                   ^
      36 |         customSnapshotsDir: `./tests/functional/snapshots/${locale}/${account}/modal`,
      37 |         customSnapshotIdentifier
      38 |     });
      at modalSnapshot (spec/utils/modalSnapshot.js:35:19)
  ● DE Modal Calculator Tests { width: 411, height: 731 } › update finance terms when user updates amount passed into calculator flex 411
    Expected image to match or be a close match to snapshot but was 5.690967610945244% different from snapshot (17098 differing pixels).
    See diff for details: tests/functional/snapshots/DE/DEV0000000IAZ/modal/__diff_output__/DE-update-finance-terms-flex-411-diff.png
      33 |     }
      34 |
    > 35 |     expect(image).toMatchImageSnapshot({
         |                   ^
      36 |         customSnapshotsDir: `./tests/functional/snapshots/${locale}/${account}/modal`,
      37 |         customSnapshotIdentifier
      38 |     });
      at modalSnapshot (spec/utils/modalSnapshot.js:35:19)
  ● DE Modal Calculator Tests { width: 411, height: 731 } › when an amount is passed into DE PP installments message, the correct financing terms are loaded in a table flex 411
    Expected image to match or be a close match to snapshot but was 5.709274033836927% different from snapshot (17153 differing pixels).
    See diff for details: tests/functional/snapshots/DE/DEV0000000IAZ/modal/__diff_output__/ezp-message-content-flex-411-diff.png
      33 |     }
      34 |
    > 35 |     expect(image).toMatchImageSnapshot({
         |                   ^
      36 |         customSnapshotsDir: `./tests/functional/snapshots/${locale}/${account}/modal`,
      37 |         customSnapshotIdentifier
      38 |     });
      at modalSnapshot (spec/utils/modalSnapshot.js:35:19)
  ● DE Modal Calculator Tests { width: 411, height: 731 } › update finance terms when user updates amount passed into calculator flex 411
    Expected image to match or be a close match to snapshot but was 5.799141928032459% different from snapshot (17423 differing pixels).
    See diff for details: tests/functional/snapshots/DE/DEV0000000IAZ/modal/__diff_output__/DE-update-finance-terms-flex-411-diff.png
      33 |     }
      34 |
    > 35 |     expect(image).toMatchImageSnapshot({
         |                   ^
      36 |         customSnapshotsDir: `./tests/functional/snapshots/${locale}/${account}/modal`,
      37 |         customSnapshotIdentifier
      38 |     });
      at modalSnapshot (spec/utils/modalSnapshot.js:35:19)
  ● DE Modal Calculator Tests { width: 411, height: 731 } › when an amount is passed into DE PP installments message, the correct financing terms are loaded in a table flex 411
    Expected image to match or be a close match to snapshot but was 5.93460945743091% different from snapshot (17830 differing pixels).
    See diff for details: tests/functional/snapshots/DE/DEV0000000IAZ/modal/__diff_output__/ezp-message-content-flex-411-diff.png
      33 |     }
      34 |
    > 35 |     expect(image).toMatchImageSnapshot({
         |                   ^
      36 |         customSnapshotsDir: `./tests/functional/snapshots/${locale}/${account}/modal`,
      37 |         customSnapshotIdentifier
      38 |     });
      at modalSnapshot (spec/utils/modalSnapshot.js:35:19)
  ● DE Modal Calculator Tests { width: 411, height: 731 } ��� update finance terms when user updates amount passed into calculator flex 411
    Expected image to match or be a close match to snapshot but was 4.8924747288153085% different from snapshot (14699 differing pixels).
    See diff for details: tests/functional/snapshots/DE/DEV0000000IAZ/modal/__diff_output__/DE-update-finance-terms-flex-411-diff.png
      33 |     }
      34 |
    > 35 |     expect(image).toMatchImageSnapshot({
         |                   ^
      36 |         customSnapshotsDir: `./tests/functional/snapshots/${locale}/${account}/modal`,
      37 |         customSnapshotIdentifier
      38 |     });
      at modalSnapshot (spec/utils/modalSnapshot.js:35:19)
  ● DE Modal Calculator Tests { width: 411, height: 731 } › when an amount is passed into DE PP installments message, the correct financing terms are loaded in a table flex 411
    Expected image to match or be a close match to snapshot but was 4.8432138090340535% different from snapshot (14551 differing pixels).
    See diff for details: tests/functional/snapshots/DE/DEV0000000IAZ/modal/__diff_output__/ezp-message-content-flex-411-diff.png
      33 |     }
      34 |
    > 35 |     expect(image).toMatchImageSnapshot({
         |                   ^
      36 |         customSnapshotsDir: `./tests/functional/snapshots/${locale}/${account}/modal`,
      37 |         customSnapshotIdentifier
      38 |     });
      at modalSnapshot (spec/utils/modalSnapshot.js:35:19)
 › 12 snapshots failed.
FAIL tests/functional/spec/DE/modal/modalTextCalc.test.js (120.592s)
  ● DE Modal Calculator Tests { width: 1920, height: 1080 } › update finance terms when user updates amount passed into calculator text 1920
    Expected image to match or be a close match to snapshot but was 1.0895543981481481% different from snapshot (22593 differing pixels).
    See diff for details: tests/functional/snapshots/DE/DEV0000000IAZ/modal/__diff_output__/DE-update-finance-terms-text-1920-diff.png
      33 |     }
      34 |
    > 35 |     expect(image).toMatchImageSnapshot({
         |                   ^
      36 |         customSnapshotsDir: `./tests/functional/snapshots/${locale}/${account}/modal`,
      37 |         customSnapshotIdentifier
      38 |     });
      at modalSnapshot (spec/utils/modalSnapshot.js:35:19)
  ● DE Modal Calculator Tests { width: 1920, height: 1080 } › when an amount is passed into DE PP installments message, the correct financing terms are loaded in a table text 1920
    Expected image to match or be a close match to snapshot but was 1.0950520833333333% different from snapshot (22707 differing pixels).
    See diff for details: tests/functional/snapshots/DE/DEV0000000IAZ/modal/__diff_output__/ezp-message-content-text-1920-diff.png
      33 |     }
      34 |
    > 35 |     expect(image).toMatchImageSnapshot({
         |                   ^
      36 |         customSnapshotsDir: `./tests/functional/snapshots/${locale}/${account}/modal`,
      37 |         customSnapshotIdentifier
      38 |     });
      at modalSnapshot (spec/utils/modalSnapshot.js:35:19)
  ● DE Modal Calculator Tests { width: 1920, height: 1080 } › update finance terms when user updates amount passed into calculator text 1920
    Expected image to match or be a close match to snapshot but was 1.1046971450617284% different from snapshot (22907 differing pixels).
    See diff for details: tests/functional/snapshots/DE/DEV0000000IAZ/modal/__diff_output__/DE-update-finance-terms-text-1920-diff.png
      33 |     }
      34 |
    > 35 |     expect(image).toMatchImageSnapshot({
         |                   ^
      36 |         customSnapshotsDir: `./tests/functional/snapshots/${locale}/${account}/modal`,
      37 |         customSnapshotIdentifier
      38 |     });
      at modalSnapshot (spec/utils/modalSnapshot.js:35:19)
  ● DE Modal Calculator Tests { width: 1920, height: 1080 } › when an amount is passed into DE PP installments message, the correct financing terms are loaded in a table text 1920
    Expected image to match or be a close match to snapshot but was 1.1307870370370372% different from snapshot (23448 differing pixels).
    See diff for details: tests/functional/snapshots/DE/DEV0000000IAZ/modal/__diff_output__/ezp-message-content-text-1920-diff.png
      33 |     }
      34 |
    > 35 |     expect(image).toMatchImageSnapshot({
         |                   ^
      36 |         customSnapshotsDir: `./tests/functional/snapshots/${locale}/${account}/modal`,
      37 |         customSnapshotIdentifier
      38 |     });
      at modalSnapshot (spec/utils/modalSnapshot.js:35:19)
  ● DE Modal Calculator Tests { width: 1920, height: 1080 } › update finance terms when user updates amount passed into calculator text 1920
    Expected image to match or be a close match to snapshot but was 0.9935860339506173% different from snapshot (20603 differing pixels).
    See diff for details: tests/functional/snapshots/DE/DEV0000000IAZ/modal/__diff_output__/DE-update-finance-terms-text-1920-diff.png
      33 |     }
      34 |
    > 35 |     expect(image).toMatchImageSnapshot({
         |                   ^
      36 |         customSnapshotsDir: `./tests/functional/snapshots/${locale}/${account}/modal`,
      37 |         customSnapshotIdentifier
      38 |     });
      at modalSnapshot (spec/utils/modalSnapshot.js:35:19)
  ● DE Modal Calculator Tests { width: 1920, height: 1080 } › when an amount is passed into DE PP installments message, the correct financing terms are loaded in a table text 1920
    Expected image to match or be a close match to snapshot but was 0.9915605709876544% different from snapshot (20561 differing pixels).
    See diff for details: tests/functional/snapshots/DE/DEV0000000IAZ/modal/__diff_output__/ezp-message-content-text-1920-diff.png
      33 |     }
      34 |
    > 35 |     expect(image).toMatchImageSnapshot({
         |                   ^
      36 |         customSnapshotsDir: `./tests/functional/snapshots/${locale}/${account}/modal`,
      37 |         customSnapshotIdentifier
      38 |     });
      at modalSnapshot (spec/utils/modalSnapshot.js:35:19)
  ● DE Modal Calculator Tests { width: 411, height: 731 } › update finance terms when user updates amount passed into calculator text 411
    Expected image to match or be a close match to snapshot but was 5.690967610945244% different from snapshot (17098 differing pixels).
    See diff for details: tests/functional/snapshots/DE/DEV0000000IAZ/modal/__diff_output__/DE-update-finance-terms-text-411-diff.png
      33 |     }
      34 |
    > 35 |     expect(image).toMatchImageSnapshot({
         |                   ^
      36 |         customSnapshotsDir: `./tests/functional/snapshots/${locale}/${account}/modal`,
      37 |         customSnapshotIdentifier
      38 |     });
      at modalSnapshot (spec/utils/modalSnapshot.js:35:19)
  ● DE Modal Calculator Tests { width: 411, height: 731 } › when an amount is passed into DE PP installments message, the correct financing terms are loaded in a table text 411
    Expected image to match or be a close match to snapshot but was 5.709274033836927% different from snapshot (17153 differing pixels).
    See diff for details: tests/functional/snapshots/DE/DEV0000000IAZ/modal/__diff_output__/ezp-message-content-text-411-diff.png
      33 |     }
      34 |
    > 35 |     expect(image).toMatchImageSnapshot({
         |                   ^
      36 |         customSnapshotsDir: `./tests/functional/snapshots/${locale}/${account}/modal`,
      37 |         customSnapshotIdentifier
      38 |     });
      at modalSnapshot (spec/utils/modalSnapshot.js:35:19)
  ● DE Modal Calculator Tests { width: 411, height: 731 } › update finance terms when user updates amount passed into calculator text 411
    Expected image to match or be a close match to snapshot but was 5.801138992347915% different from snapshot (17429 differing pixels).
    See diff for details: tests/functional/snapshots/DE/DEV0000000IAZ/modal/__diff_output__/DE-update-finance-terms-text-411-diff.png
      33 |     }
      34 |
    > 35 |     expect(image).toMatchImageSnapshot({
         |                   ^
      36 |         customSnapshotsDir: `./tests/functional/snapshots/${locale}/${account}/modal`,
      37 |         customSnapshotIdentifier
      38 |     });
      at modalSnapshot (spec/utils/modalSnapshot.js:35:19)
  ● DE Modal Calculator Tests { width: 411, height: 731 } › when an amount is passed into DE PP installments message, the correct financing terms are loaded in a table text 411
    Expected image to match or be a close match to snapshot but was 5.93460945743091% different from snapshot (17830 differing pixels).
    See diff for details: tests/functional/snapshots/DE/DEV0000000IAZ/modal/__diff_output__/ezp-message-content-text-411-diff.png
      33 |     }
      34 |
    > 35 |     expect(image).toMatchImageSnapshot({
         |                   ^
      36 |         customSnapshotsDir: `./tests/functional/snapshots/${locale}/${account}/modal`,
      37 |         customSnapshotIdentifier
      38 |     });
      at modalSnapshot (spec/utils/modalSnapshot.js:35:19)
  ● DE Modal Calculator Tests { width: 411, height: 731 } ��� update finance terms when user updates amount passed into calculator text 411
    Expected image to match or be a close match to snapshot but was 4.889479132342124% different from snapshot (14690 differing pixels).
    See diff for details: tests/functional/snapshots/DE/DEV0000000IAZ/modal/__diff_output__/DE-update-finance-terms-text-411-diff.png
      33 |     }
      34 |
    > 35 |     expect(image).toMatchImageSnapshot({
         |                   ^
      36 |         customSnapshotsDir: `./tests/functional/snapshots/${locale}/${account}/modal`,
      37 |         customSnapshotIdentifier
      38 |     });
      at modalSnapshot (spec/utils/modalSnapshot.js:35:19)
  ● DE Modal Calculator Tests { width: 411, height: 731 } › when an amount is passed into DE PP installments message, the correct financing terms are loaded in a table text 411
    Expected image to match or be a close match to snapshot but was 4.8432138090340535% different from snapshot (14551 differing pixels).
    See diff for details: tests/functional/snapshots/DE/DEV0000000IAZ/modal/__diff_output__/ezp-message-content-text-411-diff.png
      33 |     }
      34 |
    > 35 |     expect(image).toMatchImageSnapshot({
         |                   ^
      36 |         customSnapshotsDir: `./tests/functional/snapshots/${locale}/${account}/modal`,
      37 |         customSnapshotIdentifier
      38 |     });
      at modalSnapshot (spec/utils/modalSnapshot.js:35:19)
 › 12 snapshots failed.
FAIL tests/functional/spec/US/modal/modalCalc.test.js (99.78s)
  ● EZP modal calculator tests { width: 1920, height: 1080 } 1 › show error message when entering a non-qualifying amount inside the calculator
    Expected image to match or be a close match to snapshot but was 0.6714409722222222% different from snapshot (13923 differing pixels).
    See diff for details: tests/functional/snapshots/US/DEV0000000PSZ/modal/__diff_output__/non-qualifying-ezp-amount-error-message-text-1920-diff.png
      33 |     }
      34 |
    > 35 |     expect(image).toMatchImageSnapshot({
         |                   ^
      36 |         customSnapshotsDir: `./tests/functional/snapshots/${locale}/${account}/modal`,
      37 |         customSnapshotIdentifier
      38 |     });
      at modalSnapshot (spec/utils/modalSnapshot.js:35:19)
  ● EZP modal calculator tests { width: 1920, height: 1080 } 1 › when an amount is passed into EZP message, the correct financing terms are loaded in a table
    Expected image to match or be a close match to snapshot but was 0.6627604166666667% different from snapshot (13743 differing pixels).
    See diff for details: tests/functional/snapshots/US/DEV0000000PSZ/modal/__diff_output__/ezp-finance-terms-text-1920-diff.png
      33 |     }
      34 |
    > 35 |     expect(image).toMatchImageSnapshot({
         |                   ^
      36 |         customSnapshotsDir: `./tests/functional/snapshots/${locale}/${account}/modal`,
      37 |         customSnapshotIdentifier
      38 |     });
      at modalSnapshot (spec/utils/modalSnapshot.js:35:19)
  ● EZP modal calculator tests { width: 1920, height: 1080 } 1 › update finance terms when user updates amount passed into calculator
    Expected image to match or be a close match to snapshot but was 0.8292824074074074% different from snapshot (17196 differing pixels).
    See diff for details: tests/functional/snapshots/US/DEV0000000PSZ/modal/__diff_output__/update-finance-terms-text-1920-diff.png
      33 |     }
      34 |
    > 35 |     expect(image).toMatchImageSnapshot({
         |                   ^
      36 |         customSnapshotsDir: `./tests/functional/snapshots/${locale}/${account}/modal`,
      37 |         customSnapshotIdentifier
      38 |     });
      at modalSnapshot (spec/utils/modalSnapshot.js:35:19)
  ● EZP modal calculator tests { width: 1920, height: 1080 } 1 › when an ezp message is clicked ezp content is loaded including a calculator for finance terms
    Expected image to match or be a close match to snapshot but was 0.6627604166666667% different from snapshot (13743 differing pixels).
    See diff for details: tests/functional/snapshots/US/DEV0000000PSZ/modal/__diff_output__/ezp-message-content-text-1920-diff.png
      33 |     }
      34 |
    > 35 |     expect(image).toMatchImageSnapshot({
         |                   ^
      36 |         customSnapshotsDir: `./tests/functional/snapshots/${locale}/${account}/modal`,
      37 |         customSnapshotIdentifier
      38 |     });
      at modalSnapshot (spec/utils/modalSnapshot.js:35:19)
  ● EZP modal calculator tests { width: 411, height: 731 } 1 › show error message when entering a non-qualifying amount inside the calculator
    Expected image to match or be a close match to snapshot but was 0.7495648064012569% different from snapshot (2252 differing pixels).
    See diff for details: tests/functional/snapshots/US/DEV0000000PSZ/modal/__diff_output__/non-qualifying-ezp-amount-error-message-text-411-diff.png
      33 |     }
      34 |
    > 35 |     expect(image).toMatchImageSnapshot({
         |                   ^
      36 |         customSnapshotsDir: `./tests/functional/snapshots/${locale}/${account}/modal`,
      37 |         customSnapshotIdentifier
      38 |     });
      at modalSnapshot (spec/utils/modalSnapshot.js:35:19)
  ● EZP modal calculator tests { width: 411, height: 731 } 1 › when an amount is passed into EZP message, the correct financing terms are loaded in a table
    Expected image to match or be a close match to snapshot but was 0.8061482953391849% different from snapshot (2422 differing pixels).
    See diff for details: tests/functional/snapshots/US/DEV0000000PSZ/modal/__diff_output__/ezp-finance-terms-text-411-diff.png
      33 |     }
      34 |
    > 35 |     expect(image).toMatchImageSnapshot({
         |                   ^
      36 |         customSnapshotsDir: `./tests/functional/snapshots/${locale}/${account}/modal`,
      37 |         customSnapshotIdentifier
      38 |     });
      at modalSnapshot (spec/utils/modalSnapshot.js:35:19)
  ● EZP modal calculator tests { width: 411, height: 731 } 1 › update finance terms when user updates amount passed into calculator
    Expected image to match or be a close match to snapshot but was 3.8723077076697257% different from snapshot (11634 differing pixels).
    See diff for details: tests/functional/snapshots/US/DEV0000000PSZ/modal/__diff_output__/update-finance-terms-text-411-diff.png
      33 |     }
      34 |
    > 35 |     expect(image).toMatchImageSnapshot({
         |                   ^
      36 |         customSnapshotsDir: `./tests/functional/snapshots/${locale}/${account}/modal`,
      37 |         customSnapshotIdentifier
      38 |     });
      at modalSnapshot (spec/utils/modalSnapshot.js:35:19)
  ● EZP modal calculator tests { width: 411, height: 731 } 1 › when an ezp message is clicked ezp content is loaded including a calculator for finance terms
    Expected image to match or be a close match to snapshot but was 0.8061482953391849% different from snapshot (2422 differing pixels).
    See diff for details: tests/functional/snapshots/US/DEV0000000PSZ/modal/__diff_output__/ezp-message-content-text-411-diff.png
      33 |     }
      34 |
    > 35 |     expect(image).toMatchImageSnapshot({
         |                   ^
      36 |         customSnapshotsDir: `./tests/functional/snapshots/${locale}/${account}/modal`,
      37 |         customSnapshotIdentifier
      38 |     });
      at modalSnapshot (spec/utils/modalSnapshot.js:35:19)
  ● EZP modal calculator tests { width: 411, height: 731 } NaN › show error message when entering a non-qualifying amount inside the calculator
    Expected image to match or be a close match to snapshot but was 0.44700956260963054% different from snapshot (1343 differing pixels).
    See diff for details: tests/functional/snapshots/US/DEV0000000PSZ/modal/__diff_output__/non-qualifying-ezp-amount-error-message-text-411-diff.png
      33 |     }
      34 |
    > 35 |     expect(image).toMatchImageSnapshot({
         |                   ^
      36 |         customSnapshotsDir: `./tests/functional/snapshots/${locale}/${account}/modal`,
      37 |         customSnapshotIdentifier
      38 |     });
      at modalSnapshot (spec/utils/modalSnapshot.js:35:19)
  ● EZP modal calculator tests { width: 411, height: 731 } NaN › when an amount is passed into EZP message, the correct financing terms are loaded in a table
    Expected image to match or be a close match to snapshot but was 0.5069214920733189% different from snapshot (1523 differing pixels).
    See diff for details: tests/functional/snapshots/US/DEV0000000PSZ/modal/__diff_output__/ezp-finance-terms-text-411-diff.png
      33 |     }
      34 |
    > 35 |     expect(image).toMatchImageSnapshot({
         |                   ^
      36 |         customSnapshotsDir: `./tests/functional/snapshots/${locale}/${account}/modal`,
      37 |         customSnapshotIdentifier
      38 |     });
      at modalSnapshot (spec/utils/modalSnapshot.js:35:19)
  ● EZP modal calculator tests { width: 411, height: 731 } NaN › update finance terms when user updates amount passed into calculator
    Expected image to match or be a close match to snapshot but was 0.679667555360287% different from snapshot (2042 differing pixels).
    See diff for details: tests/functional/snapshots/US/DEV0000000PSZ/modal/__diff_output__/update-finance-terms-text-411-diff.png
      33 |     }
      34 |
    > 35 |     expect(image).toMatchImageSnapshot({
         |                   ^
      36 |         customSnapshotsDir: `./tests/functional/snapshots/${locale}/${account}/modal`,
      37 |         customSnapshotIdentifier
      38 |     });
      at modalSnapshot (spec/utils/modalSnapshot.js:35:19)
  ● EZP modal calculator tests { width: 411, height: 731 } NaN › when an ezp message is clicked ezp content is loaded including a calculator for finance terms
    Expected image to match or be a close match to snapshot but was 0.5069214920733189% different from snapshot (1523 differing pixels).
    See diff for details: tests/functional/snapshots/US/DEV0000000PSZ/modal/__diff_output__/ezp-message-content-text-411-diff.png
      33 |     }
      34 |
    > 35 |     expect(image).toMatchImageSnapshot({
         |                   ^
      36 |         customSnapshotsDir: `./tests/functional/snapshots/${locale}/${account}/modal`,
      37 |         customSnapshotIdentifier
      38 |     });
      at modalSnapshot (spec/utils/modalSnapshot.js:35:19)
 › 12 snapshots failed.
PASS tests/functional/spec/DE/modal/modalFlex.test.js (32.74s)
PASS tests/functional/spec/DE/modal/modalText.test.js (32.751s)
PASS tests/functional/spec/US/legacy.test.js (41.338s)
PASS tests/functional/spec/US/custom.test.js
Snapshot Summary
 › 36 snapshots failed from 3 test suites. Inspect your code changes or run `npm run test:func -- -u` to update them.
Test Suites: 3 failed, 14 passed, 17 total
Tests:       36 failed, 752 passed, 788 total
Snapshots:   36 failed, 780 passed, 816 total
Time:        1408.254s
Ran all test suites.
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! @paypal/messaging-components@1.12.3 test:func: `jest --projects tests/functional`
npm ERR! Exit status 1
npm ERR!
npm ERR! Failed at the @paypal/messaging-components@1.12.3 test:func script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.
npm ERR! A complete log of this run can be found in:
npm ERR!     /home/travis/.npm/_logs/2020-08-28T02_58_56_390Z-debug.log
No snapshots found in /home/travis/build/paypal/paypal-messaging-components/tests/functional/__diff_output__/modal
No snapshots found in /home/travis/build/paypal/paypal-messaging-components/tests/functional/__diff_output__/banner
The command "./scripts/snapshot-tests/run-tests.sh" exited with 0.
Skipping a deployment with the script provider because this branch is not permitted: improve-func-beginning
Done. Your build exited with 0.
/home/travis/.travis/functions: line 536:  4416 Terminated              npm run dev:snapshot
Top
Search all repositories

My Repositories

 paypal/paypal-messaging-components  1188
 Duration: 4 min 57 sec

 Finished: about an hour ago

 meteor/meteor  10426
 Duration: 2 min 23 sec

 Finished: 5 hours ago

 Meteor-Community-Packages/meteor-user-status  138
 Duration: 11 min 36 sec

 Finished: 8 days ago

©TRAVIS CI, GMBH
Rigaer Straße 8
10247 Berlin, Germany
Work with Travis CI
Blog
Email
Twitter
HELP
Documentation
Community
Changelog
Travis CI vs Jenkins
COMPANY
Imprint
Legal
TRAVIS CI STATUS
●
Travis CI Status
